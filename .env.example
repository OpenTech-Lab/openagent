# OpenAgent Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# AI Configuration (OpenRouter)
# ===========================================
# Get your API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_key_here

# Default model to use (OpenRouter model ID format)
# Examples: anthropic/claude-3.5-sonnet, openai/gpt-4-turbo, deepseek/deepseek-chat
DEFAULT_MODEL=anthropic/claude-3.5-sonnet

# Optional: Site URL and name for OpenRouter rankings
OPENROUTER_SITE_URL=https://your-site.com
OPENROUTER_SITE_NAME=OpenAgent

# ===========================================
# Messaging - Telegram
# ===========================================
# Get your bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# Optional: Restrict bot to specific user IDs (comma-separated)
# Leave empty to allow all users
TELEGRAM_ALLOWED_USERS=

# ===========================================
# Databases
# ===========================================
# PostgreSQL connection string (with pgvector extension)
DATABASE_URL=postgres://user:pass@localhost:5432/openagent

# OpenSearch connection
OPENSEARCH_URL=https://localhost:9200
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=admin

# ===========================================
# Execution Security
# ===========================================
# Execution environment for running generated code
# Options: 'os' (local dir), 'sandbox' (Wasm), 'container' (Docker)
EXECUTION_ENV=sandbox

# Directory for file operations (relative to project root or absolute path)
ALLOWED_DIR=./workspace

# Docker settings (for container mode)
DOCKER_IMAGE=python:3.12-slim
DOCKER_NETWORK=none
DOCKER_MEMORY_LIMIT=512m
DOCKER_CPU_LIMIT=1.0

# ===========================================
# Logging
# ===========================================
# Log level: trace, debug, info, warn, error
RUST_LOG=info,openagent=debug

# Log format: pretty, json
LOG_FORMAT=pretty

# ===========================================
# Server Settings
# ===========================================
# Host and port for webhook mode (optional)
WEBHOOK_HOST=0.0.0.0
WEBHOOK_PORT=8443
WEBHOOK_URL=https://your-domain.com/webhook

# Use long polling instead of webhook (recommended for development)
USE_LONG_POLLING=true
